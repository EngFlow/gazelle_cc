load("@rules_cc//cc:defs.bzl", "cc_library")

# gazelle:cc_platform android aarch64 @platforms//os:android
# gazelle:cc_platform qnx aarch64 @platforms//os:qnx

# keep
cc_library(name = "do_not_delete")

cc_library(
    name = "platform",
    srcs = ["custom.cc"],
    implementation_deps = select({
        "@platforms//os:android": [
            ":do_not_delete",  # keep
            "//keep_deps/select:android",
        ],
        "@platforms//os:qnx": [
            "//keep_deps/select:qnx",
        ],
        "//conditions:default": ["//keep_deps/select:default"],
    }),
    visibility = ["//visibility:public"],
)
