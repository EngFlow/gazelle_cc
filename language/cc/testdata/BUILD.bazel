load("@bazel_skylib//lib:paths.bzl", "paths")
load("//bazel:gazelle_generation_test.bzl", "gazelle_generation_test_suite")

ALL_WORKSPACES = [paths.dirname(p) for p in glob([
    "**/MODULE.bazel",
    "**/WORKSPACE",
])]

gazelle_generation_test_suite(
    name = "generation_tests",
    size = "small",
    gazelle_binary = "//language/cc:gazelle_for_tests",
    workspace_paths = ALL_WORKSPACES,
)
