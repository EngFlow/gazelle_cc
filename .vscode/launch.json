{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "gazelle_cc in example/bzlmod",
      "type": "go",
      "request": "launch",
      "mode": "exec",
      "program": "${workspaceFolder}/example/bzlmod/bazel-bin/gazelle_cc_/gazelle_cc",
      "preLaunchTask": "bazel: build debuggable gazelle_cc in example/bzlmod",
      "cwd": "${workspaceFolder}/example/bzlmod",
      "substitutePath": [
        /*
          This is necessary due to the way Bazel sandboxes its build outputs.
          Source paths embedded in the debugging metadata of compiled binaries
          may not match the actual file paths on disk.

          Entries must be sorted starting by the most specific "from" path to
          the least specific. Otherwise, VS Code may apply a less specific rule
          first, disallowing to setup breakpoints in an external repository.
         */
        {
          "from": "${workspaceFolder}/example/bzlmod/bazel-bzlmod/external/gazelle+",
          "to": "external/gazelle+"
        },
        {
          "from": "${workspaceFolder}",
          "to": "external/gazelle_cc+"
        },
      ]
    },
    {
      "name": "BCR indexer",
      "type": "go",
      "request": "launch",
      "mode": "exec",
      "program": "${workspaceFolder}/bazel-bin/index/internal/bcr/indexer/indexer_/indexer",
      "args": [
        "--output-mappings=language/cc/bzldep-index.json",
        "--recompute-unresolved",
        "--cache-dir=.cache",
        "-v"
      ],
      "preLaunchTask": "bazel: build debuggable BCR indexer",
      "cwd": "${workspaceFolder}",
      "substitutePath": [
        {
          "from": "${workspaceFolder}",
          "to": ""
        }
      ]
    }
  ]
}
